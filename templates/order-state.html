{% extends "layout.html" %}
{% set active_page = "order_state" %}
{% set url = "customer" %}

{% block header %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/order-state.css') }}">
{% endblock %}

{% block content %}
    <div class="full-container">
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th>取餐序號</th>
                    <th>指定取餐時間</th>
                    <th>項目及數量</th>
                    <th>目前訂單狀態</th>
                    <th>備註</th>
                </tr>
            </thead>
            <tbody>
                {% for eachOrder in order%}
                    <tr class = "{{eachOrder['state']}}">
                        {% if eachOrder['state'] == 'cancel' %}
                            <td>X</td>
                        {% elif eachOrder['state'] == 'unknown' %}
                            <td>?</td>
                        {% else %}
                            <td>{{eachOrder['orderID']}}</td>
                        {% endif %}
                        <td>{{eachOrder['takenAt']}}</td>

                        <td>
                        {%for content in eachOrder['content']%}
                            {{content['name']}} * {{content['quantity']}}<br>
                        {%endfor%}
                        </td>

                        {% if eachOrder['state'] == 'doing'%}
                        <td id = "{{eachOrder['orderID']}}">製作中</td>
                        {%endif%}

                        {% if eachOrder['state'] == 'unknown'%}
                        <td id = "{{eachOrder['orderID']}}">未回應</td>
                        {%endif%}

                        {% if eachOrder['state'] == 'finish'%}
                        <td id = "{{eachOrder['orderID']}}">已完成</td>
                        {%endif%}

                        {% if eachOrder['state'] == 'cancel'%}
                        <td id = "{{eachOrder['orderID']}}">拒絕</td>
                        {%endif%}

                        <td >{{eachOrder['notes']}}</td>
                    </tr>
                {%endfor%}
            </tbody>
        </table>
    </div>
{% endblock %}